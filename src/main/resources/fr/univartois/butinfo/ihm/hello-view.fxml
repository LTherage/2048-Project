<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.ColumnConstraints?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="fr.univartois.butinfo.ihm.Controller2048"
      alignment="CENTER" spacing="20.0"
      prefHeight="600.0" prefWidth="500.0"
      style="-fx-background-color: #FAF8EF;">

    <padding>
        <Insets top="20.0" right="20.0" bottom="20.0" left="20.0"/>
    </padding>

    <!-- En-tête avec titre et score -->
    <HBox alignment="CENTER" spacing="50.0">
        <Label text="2048" style="-fx-font-weight: bold;">
            <font>
                <Font size="40.0"/>
            </font>
        </Label>

        <VBox alignment="CENTER" style="-fx-background-color: #BBADA0; -fx-background-radius: 5;">
            <padding>
                <Insets top="10.0" right="20.0" bottom="10.0" left="20.0"/>
            </padding>
            <Label text="SCORE" style="-fx-text-fill: #EEE4DA;">
                <font>
                    <Font size="13.0"/>
                </font>
            </Label>
            <Label fx:id="scoreLabel" text="0" style="-fx-text-fill: white;">
                <font>
                    <Font size="20.0"/>
                </font>
            </Label>
        </VBox>
    </HBox>

    <!-- Contrôle de la taille -->
    <HBox alignment="CENTER" spacing="10.0">
        <TextField fx:id="tailleGrille" promptText="Taille de la grille (3-8)"
                   prefWidth="150.0"
                   style="-fx-background-radius: 5;">
        </TextField>
        <Button fx:id="okTaille" text="Modifier la taille" onAction="#setTailleGameGrid"
                style="-fx-background-color: #8F7A66; -fx-text-fill: white; -fx-font-weight: bold;">
            <padding>
                <Insets top="5.0" right="10.0" bottom="5.0" left="10.0"/>
            </padding>
        </Button>
    </HBox>

    <!-- Description -->
    <Label text="Fusionnez les nombres et atteignez la tuile 2048 !"
           style="-fx-text-fill: #776E65;">
        <font>
            <Font size="14.0"/>
        </font>
    </Label>

    <!-- Grille de jeu -->
    <GridPane fx:id="gameGrid" alignment="CENTER" hgap="10" vgap="10"
              style="-fx-background-color: #BBADA0; -fx-padding: 10; -fx-background-radius: 5;">
        <columnConstraints>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0"/>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0"/>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0"/>
            <ColumnConstraints hgrow="SOMETIMES" minWidth="90.0" prefWidth="90.0"/>
        </columnConstraints>
        <rowConstraints>
            <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES"/>
            <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES"/>
            <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES"/>
            <RowConstraints minHeight="90.0" prefHeight="90.0" vgrow="SOMETIMES"/>
        </rowConstraints>
    </GridPane>

    <!-- Boutons de contrôle -->
    <HBox alignment="CENTER" spacing="10.0">
        <Button text="Nouvelle partie" onAction="#onResetButtonClick"
                style="-fx-background-color: #8F7A66; -fx-text-fill: white; -fx-font-weight: bold;">
            <padding>
                <Insets top="10.0" right="20.0" bottom="10.0" left="20.0"/>
            </padding>
        </Button>
    </HBox>

    <!-- Instructions -->
    <Label text="Utilisez les flèches du clavier pour déplacer les tuiles"
           style="-fx-text-fill: #776E65;">
        <font>
            <Font size="14.0"/>
        </font>
    </Label>
</VBox>